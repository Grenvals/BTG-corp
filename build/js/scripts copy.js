var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};if(isMobile.any(),location.hash){var hsh=location.hash.replace("#","");0<$(".popup-"+hsh).length?popupOpen(hsh):0<$("div."+hsh).length&&$("body,html").animate({scrollTop:$("div."+hsh).offset().top},500,function(){})}$(".wrapper").addClass("loaded");var act="click";if(isMobile.iOS())act="touchstart";function ibg(){$.each($(".ibg"),function(a,t){0<$(this).find("img").length&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')})}ibg(),$(".menu-header__icon").click(function(a){a.preventDefault(),$(this).toggleClass("active"),$(".menu-header__menu").toggleClass("active"),$(this).hasClass("active")&&$("body").data("scroll",$(window).scrollTop()),$("body").toggleClass("lock"),$(this).hasClass("active")||$("body,html").scrollTop(parseInt($("body").data("scroll")))}),$(".header-menu__link.parent").click(function(a){return $(this).parent().toggleClass("active"),$(this).parent().find(".header-menu-sublist").slideToggle(300,function(a){}),$(".header-menu__link.parent").not(this),!1}),$(".scroll").bind("click",function(a){var t=$(this);$("html, body").stop().animate({scrollTop:$(t.attr("href")).offset().top-30},700),a.preventDefault()}),$(".callback-status__button").on("click",function(a){a.preventDefault(),$(".callback-block").show(.607),$(".callback-status").hide(.607),$(".callback").removeClass("callback_activ")}),$(".callback-form").submit(function(){event.preventDefault();var l=!1;if($(this).find(".callback-form__errors").empty(),$(this).find("input").each(function(){var a=$(".callback-form__name").val(),t=$(".callback-form__email").val();if(""==$.trim($(this).val())||$(this).val().trim().length<4||60<$(this).val().length){var e=$(".callback-errors").attr("data-errors-base");$(this).next().text(e),l=!0}if(!/^[a-zA-Zа-яА-Я]+$/.test(a)){l=!0;e=$(".callback-errors").attr("data-errors-name");$(".callback-form__name").next().text(e)}if(t.length<8||!/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t)){l=!0;e=$(".callback-errors").attr("data-errors-email");$(".callback-form__email").next().text(e)}}),$(this).find("textarea").each(function(){if(""==$.trim($(this).val())||$(this).val().trim().length<30||1e3<$(this).val().length){l=!0;var a=$(".callback-errors").attr("data-errors-base");$(this).next().text(a)}}),!l){function r(){location.reload()}data=$("form").serialize(),$.ajax({url:"mailer/smart.php",type:"POST",data:data,beforeSend:function(){var a=$(".callback-errors").attr("data-process-send");$(".callback-form__message").next().text(a),$(".callback-form__button").prop("disabled",!0)},success:function(a){var t=$.parseJSON(a);if($(".callback-form__message").next().text(t.result),console.log(t.result),"pass"==t.result)$(".callback-form__errors").empty(),$(".callback-form").trigger("reset"),$(".callback-form__button").prop("disabled",!1),$(".callback-block").hide(.607),$(".сallback-close").hide(.607),$(".callback-status").show(.607);else{var e=$(".callback-errors").attr("data-errors-server");$(".callback-status__message").text(e),$(".callback-block").hide(.607),$(".callback-status").show(.607),setTimeout(r,5e3)}},error:function(a){console.log(a),$(".callback-block").hide(.607),$(".callback-status").show(.607),$(".callback-status__message").empty();var t=$(".callback-errors").attr("data-errors-send");$(".callback-status__message").text(t),setTimeout(r,5e3)}})}return!1}),$(".title__block").on("click",function(){var a,t;t=(a=$(this).parents(".accordion__item")).find(".info"),a.hasClass("active__block")?(a.removeClass("active__block"),t.slideUp()):(a.addClass("active__block"),t.stop(!0,!0).slideDown(),a.siblings(".active__block").removeClass("active__block").children(".info").stop(!0,!0).slideUp())});